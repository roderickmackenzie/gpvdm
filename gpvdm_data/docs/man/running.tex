\newpage
\section{Getting started}

\subsection{Your first simulation}
On both windows and linux gpvdm will install on the start menu, click on it to launch it.  Once run, a window resembling that in figure \ref{fig:new_open} will appear.  

\begin{figure}[H]
\centering
\includegraphics[width=100mm,height=70mm]{./images/new_open.png}
\caption{The main gpvdm simulation window.}
\label{fig:new_open}
\end{figure}

Click on the $new~simulation$ button.  This will bring up the new simulation window (see figure \ref{fig:new_new}).  From this window select the $Organic~Solar~Cell$ option and click next.  Gpvdm dumps a lot of data to disk, I therefore recommend you save the simulation to a local disk such as the C:\textbackslash drive, a network drive or usb stick drive will be far too slow for the simulation to run.  I would also not save the simulation onto OneDrive or Dropbox as they are also too slow and saving it there will generate a lot of network traffic.  If you are a power user doing a lot of fitting of experimental data I would also recommend (at your own risk(!)) disabling any extra antivirus software you have installed, as quite often the antivirus software can't keep up with the read/writes to disk.

\begin{figure}[H]
\centering
\includegraphics[width=100mm,height=70mm]{./images/new.png}
\caption{New simulation window}
\label{fig:new_new}
\end{figure}

Once you have saved the simulation, the main gpvdm simulation window will be brought up (see figure \ref{fig:simple_interface}). You can look around the structure of the solar cell, by dragging the picture of the solar cell with your mouse.  Try pressing on the buttons beneath the red square, they will change the orientation to the xy, yz or xz plane. Notice the x,y,z origin marker in the bottom left of the 3D window.  The icon with four squares will give you an orthographic view of the solar cell.


\begin{figure}[H]
\centering
\includegraphics[width=100mm,height=70mm]{./images/simple_interface.png}
\caption{The main gpvdm simulation window}
\label{fig:simple_interface}
\end{figure}

Click on the button called "Run simulation" (hint it looks like a blue play button and is located in the "file" one to the right of the "Simulation type ribbon" ).  This will run the simulation.  On slower computers it could take a while. Once the simulation is done, click on the $Output$ tab (see figure \ref{fig:output}), there you will see a list of files the simulation has written to disk. Key files are listed in the table below:

\begin{table}[H]
\begin{center}
\begin{tabular}{ |c|c|c| } 
 \hline
	File name 			& 	Description  \\ 
 \hline
	$jv.dat$ 			&	Current voltage curve \\ 
	$charge.dat$ 		&	voltage charge density\\ 
	$device.dat$ 		&	The 3D device model\\ 
	$fit_data*.inp$ 	&	Experimental fit data (for demo)\\
	$k.csv$ 			&	Recombination constant k\\ 
	$reflect.dat$ 		&	Optical reflection from device\\ 
	$transmit.dat$ 		&	Optical transition through device\\ 
	$snapshots$ 		&	Electrical snapshots see \ref{sec:snapshots}\\
	$optical\_snapshots$&	Optical snapshots see \ref{sec:snapshotsoptical} \\
	$sim\_info.dat$ 	&	Calculated $V_{oc}$, $J_{sc}$ etc.. see \ref{sec:siminfo}   \\
	$cache$ 			&	Cache see \ref{sec:cache}  \\
 \hline
\end{tabular}
\caption{Files produced by the JV simulation}
\label{fig:output}
\end{center}
\end{table}

\begin{figure}[H]
\centering
\includegraphics[width=100mm,height=70mm]{./images/output.png}
\caption{The output tab this is just like windows file explorer, you can explore the simulation directory tree.}
\label{fig:output}
\end{figure}

Try opening $jv.dat$. This is a plot of the voltage applied to the solar cell against the current generated by the device.  These curves are also sometimes called the 'charistic diode curve', we can tell a lot about the solar cell's performance by looking at these curves.  Hit the 'g' key to bring up a grid.  Place this result in your report, [Hint: you can use ctrl+c to copy the plot to the clipboard.]

\begin{figure}[H]
\centering
\includegraphics[width=100mm,height=70mm]{./images/jv_curve.png}
\caption{The output tab}
\label{fig:jv_curve}
\end{figure}


Now try opening up the file $sim\_info.dat$, this file displays information on the performance of the solar cell, such as the Open Circuit Voltage ($V_{oc}$ - the maximum Voltage the solar cell can produce when iluminated), efficiency ($\eta$ - the efficiency of the cell) , and short circuit current ($J_{sc}$ - the maximum current the cell can produce when it is illuminated).  Figure \ref{fig:jv_curve}, shows where you can find these values on the JV curve.

\subsection{Editing device layers}
\label{sec:layereditor}
Any device in gpvdm consists of a series of layers (this is sometimes refereed to as the epitaxy - this is a term which comes from inorganic semiconductors). The layer editor can be accessed from the main simulation window, under the "device structure" tab. This is visible towards the top of figure \ref{sec:simple_interface}.

\begin{figure}[H]
\centering
\includegraphics[width=100mm,height=70mm]{./images/layer_editor.png}
\caption{The layer editor window.}
\label{fig:jv_curve}
\end{figure}

\begin{itemize}
  \item Layer name: Is the English name describing the layer. You can call your layers what you want (i.e. ITO, PEDOT, fred or bob) it has no physical meaning.
  \item Thickness: Is the layer thickness given in meters.
  \item Optical material: Specifies the n/k data which is used to describe the materials optical properties. In the simulation the n/k data are taken from experimental values stored in the optical database \ref{sec:materialdatabase} and have nothing to do with the electrical material properties such as effective band gap.
  \item Layer type: Specifies to the simulation how the layer is treated when performing a simulation. There are three types of layer
	\begin{itemize}
	  \item active: This type of layer is electrically active and the drift diffusion solver will solve the electrical equations in this layer type. See section \ref{sec:electrical}. You can have as many active layers as you like but they must be contiguous.
 	  \item contact: This tells the model that a layer is a contact and a voltage should be applied, see section \ref{sec:contacteditor} for more details.
 	  \item other: Any layer which is not a contact or active.

	\end{itemize}
\end{itemize}

Which layers should be active?: A common mistake people make when starting to simulate devices is to try to make all the layers in their device active because their logic is: Current must be flowing through them so they must be active right?  However, in for example a solar cell only the BHJ or in a perovskite device the perovskite layer will have both species of carriers (electrons+holes) and complex effects such as photogeneration, recombination and carrier trapping. So in this layer it makes sense to solver the drift diffusion equations.  Other layers which don't have both species of carriers can be treated simple parasitic resistances see section \ref{sec:parasitic}. I would only recommend setting other layers of the device to active (such as the HTL/ETL) if you are trying to investigate effects such as s-shaped JV curves or devices which clearly need multiple active layers such as OLEDs. In general, try to minimize the number of active layers and always keep simulations as simple as possible to explain the physical effects you see.  

\subsection{The contact editor}
\label{sec:contacteditor}
The contact editor is used to configure the electrical contacts.  Which layers act as contacts is configured in the layer editor see section \\ref{sec:layereditor}  The contact editor has the following fields:

\begin{figure}[H]
\centering
\includegraphics[width=100mm,height=70mm]{./images/contact_editor.png}
\caption{The contact editor}
\label{fig:contacteditor}
\end{figure}

\begin{itemize}
  \item Name: The name of the contact, this can be any English text. It has no physical meaning.
  \item Top/Bottom: Sets if the contact is on the top, bottom or in 2D simulation left and right of the device are also valid.
  \item Applied voltage: Sets the applied voltage on the contact. You first have to select what type of applied voltage you want:
		\begin{itemize}
		\item Ground: This will set the contact to zero volts i.e. ground. 0V is always taken as ground.
		\item Constant bias: This will apply a constant bias to a contact.  It can be set to zero, and would then be equivalent to ground.  In OFET simulations the voltage value can be set to bias one contact to a desired constant voltage.
		\item Change: If a contact is set to 'Change' this tells the simulation to apply a changing voltage to this contact. For example if you are performing a JV sweep, the sweep voltage will be applied to this contact.  Similarly if you are doing an IS simulation (TPV, TPC, ToF etc..) the voltage will be applied/measured to this contact.
		\end{itemize}
  \item Charge density: This sets the majority charge density on the contacts. The Fermi-offset is calculated from the charge density. The model does not use Fermi-offset as an input, it uses charge density.
  \item Majority carrier: This sets the majority carrier density to electrons or holes.
  \item Physical model: This selects if you have ohmic contacts or schottky contacts. I recommend using ohmic contacts schottky are a bit temperamental.

\end{itemize}



\subsection{Parasitic elements}
\label{sec:parasitic}

\begin{figure}[H]
\centering
\includegraphics[width=100mm,height=70mm]{./images/parasitic.png}
\caption{The parasitic component editor}
\label{fig:parasitic}
\end{figure}


\subsection{Electrical parameters}
The electrical parameter editor can be accessed through 

\begin{figure}[H]
\centering
\includegraphics[width=100mm,height=70mm]{./images/dos_editor.png}
\caption{The output tab}
\label{fig:jv_curve}
\end{figure}
